{"ast":null,"code":"import _toConsumableArray from\"C:/Users/adhik/OneDrive/Desktop/React typing speed/spideetype/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/adhik/OneDrive/Desktop/React typing speed/spideetype/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/adhik/OneDrive/Desktop/React typing speed/spideetype/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/adhik/OneDrive/Desktop/React typing speed/spideetype/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/adhik/OneDrive/Desktop/React typing speed/spideetype/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/adhik/OneDrive/Desktop/React typing speed/spideetype/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import\"./App.css\";import Nav from\"../Nav/Nav\";import Landing from\"../Landing/Landing\";import ChallangeSection from\"../ChallangeSection/ChallangeSection\";import Footer from\"../Footer/Footer\";import{SAMPLE_PARAGRAPHS}from'./../../data/sampleParagraphs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TotalTime=60;var ServiceUrl=\"http://metaphorpsum.com/paragraphs/1/9\";var DefaultState={selectedParagraph:\"\",timerStarted:false,timeRemaining:TotalTime,words:0,characters:0,wpm:0,testInfo:[]};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=DefaultState;_this.fetchNewParagraphFallback=function(){var data=SAMPLE_PARAGRAPHS[Math.floor(Math.random()*SAMPLE_PARAGRAPHS.length)];var selectedParagraphArray=data.split(\"\");var testInfo=selectedParagraphArray.map(function(SelectedLetter){return{testLetter:SelectedLetter,status:\"notAttempted\"};});_this.setState(_objectSpread(_objectSpread({},DefaultState),{},{testInfo:testInfo,selectedParagraph:data}));};_this.fetchNewParagraph=function(){fetch(ServiceUrl).then(function(response){return response.text();}).then(function(data){var selectedParagraphArray=data.split(\"\");var testInfo=selectedParagraphArray.map(function(SelectedLetter){return{testLetter:SelectedLetter,status:\"notAttempted\"};});_this.setState(_objectSpread(_objectSpread({},DefaultState),{},{testInfo:testInfo,selectedParagraph:data}));});};_this.startTimer=function(){_this.setState({timerStarted:true});var timer=setInterval(function(){if(_this.state.timeRemaining>0){// Change the WPM \nvar timeSpent=TotalTime-_this.state.timeRemaining;var wpm=timeSpent>0?_this.state.words/timeSpent*TotalTime:0;_this.setState({timeRemaining:_this.state.timeRemaining-1,wpm:parseInt(wpm)});}else{clearInterval(timer);}},1000);};_this.startAgain=function(){return _this.fetchNewParagraphFallback();};_this.handleUserInput=function(inputValue){if(!_this.state.timerStarted)_this.startTimer();// Algorithms \nvar characters=inputValue.length;var words=inputValue.split(\" \").length;var index=characters-1;if(index<0){_this.setState({testInfo:[{testLetter:_this.state.testInfo[0].testLetter,status:\"notAttempted\"}].concat(_toConsumableArray(_this.state.testInfo.slice(1))),characters:characters,words:words});return;}if(index>=_this.state.selectedParagraph.length){_this.setState({characters:characters,words:words});return;}// Make a copy of testInfo\nvar testInfo=_this.state.testInfo;if(!(index===_this.state.selectedParagraph.length-1))testInfo[index+1].status=\"notAttempted\";// Check for the correct typed letter\nvar isCorrect=inputValue[index]===testInfo[index].testLetter;// Updated the testInfo \ntestInfo[index].status=isCorrect?\"correct\":\"incorrect\";// Update the state\n_this.setState({testInfo:testInfo,words:words,characters:characters});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchNewParagraphFallback();}},{key:\"render\",value:function render(){console.log(\"Test info - \",this.state.testInfo);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Landing,{}),/*#__PURE__*/_jsx(ChallangeSection,{selectedParagraph:this.state.selectedParagraph,words:this.state.words,characters:this.state.characters,wpm:this.state.wpm,timeRemaining:this.state.timeRemaining,timerStarted:this.state.timerStarted,testInfo:this.state.testInfo,onInputChange:this.handleUserInput,startAgain:this.startAgain}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","Nav","Landing","ChallangeSection","Footer","SAMPLE_PARAGRAPHS","TotalTime","ServiceUrl","DefaultState","selectedParagraph","timerStarted","timeRemaining","words","characters","wpm","testInfo","App","state","fetchNewParagraphFallback","data","Math","floor","random","length","selectedParagraphArray","split","map","SelectedLetter","testLetter","status","setState","fetchNewParagraph","fetch","then","response","text","startTimer","timer","setInterval","timeSpent","parseInt","clearInterval","startAgain","handleUserInput","inputValue","index","slice","isCorrect","console","log","Component"],"sources":["C:/Users/adhik/OneDrive/Desktop/React typing speed/spideetype/src/components/App/App.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./App.css\";\r\nimport Nav from \"../Nav/Nav\";\r\nimport Landing from \"../Landing/Landing\";\r\nimport ChallangeSection from \"../ChallangeSection/ChallangeSection\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport { SAMPLE_PARAGRAPHS } from './../../data/sampleParagraphs';\r\n\r\nconst TotalTime = 60;\r\nconst ServiceUrl = \"http://metaphorpsum.com/paragraphs/1/9\";\r\nconst DefaultState = {\r\n    selectedParagraph: \"\",\r\n    timerStarted: false,\r\n    timeRemaining: TotalTime,\r\n    words: 0,\r\n    characters: 0,\r\n    wpm: 0,\r\n    testInfo: [],\r\n};\r\n\r\n\r\nclass App extends React.Component {\r\n    state = DefaultState;\r\n\r\n    fetchNewParagraphFallback = () => {\r\n        const data = SAMPLE_PARAGRAPHS[\r\n            Math.floor(Math.random() * SAMPLE_PARAGRAPHS.length)\r\n        ];\r\n\r\n        const selectedParagraphArray = data.split(\"\");\r\n        const testInfo = selectedParagraphArray.map(SelectedLetter => {\r\n            return {\r\n                testLetter: SelectedLetter,\r\n                status: \"notAttempted\",\r\n            };\r\n        });\r\n\r\n        this.setState({\r\n            ...DefaultState,\r\n            testInfo,\r\n            selectedParagraph: data\r\n        });\r\n\r\n    }\r\n\r\n    fetchNewParagraph = () => {\r\n        fetch(ServiceUrl)\r\n            .then(response => response.text())\r\n            .then((data) => {\r\n\r\n                const selectedParagraphArray = data.split(\"\");\r\n                const testInfo = selectedParagraphArray.map(SelectedLetter => {\r\n                    return {\r\n                        testLetter: SelectedLetter,\r\n                        status: \"notAttempted\",\r\n                    };\r\n                });\r\n\r\n                this.setState({\r\n                    ...DefaultState,\r\n                    testInfo,\r\n                    selectedParagraph: data\r\n                });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchNewParagraphFallback();\r\n    }\r\n\r\n    startTimer = () => {\r\n        this.setState({ timerStarted: true });\r\n        const timer = setInterval(() => {\r\n            if (this.state.timeRemaining > 0) {\r\n                // Change the WPM \r\n                const timeSpent = TotalTime - this.state.timeRemaining;\r\n                const wpm = timeSpent > 0\r\n                    ? (this.state.words / timeSpent) * TotalTime\r\n                    : 0;\r\n\r\n                this.setState({\r\n                    timeRemaining: this.state.timeRemaining - 1,\r\n                    wpm: parseInt(wpm),\r\n                })\r\n            } else {\r\n                clearInterval(timer);\r\n            }\r\n\r\n        }, 1000);\r\n    }\r\n\r\n    startAgain = () => this.fetchNewParagraphFallback();\r\n\r\n    handleUserInput = (inputValue) => {\r\n        if (!this.state.timerStarted) this.startTimer();\r\n\r\n        // Algorithms \r\n        const characters = inputValue.length;\r\n        const words = inputValue.split(\" \").length;\r\n        const index = characters - 1;\r\n\r\n        if (index < 0) {\r\n            this.setState({\r\n                testInfo: [\r\n                    {\r\n                        testLetter: this.state.testInfo[0].testLetter,\r\n                        status: \"notAttempted\"\r\n                    },\r\n                    ...this.state.testInfo.slice(1)\r\n                ],\r\n                characters,\r\n                words,\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        if (index >= this.state.selectedParagraph.length) {\r\n            this.setState({ characters, words });\r\n            return;\r\n        }\r\n\r\n        // Make a copy of testInfo\r\n        const testInfo = this.state.testInfo;\r\n        if (!(index === this.state.selectedParagraph.length - 1))\r\n            testInfo[index + 1].status = \"notAttempted\";\r\n\r\n\r\n        // Check for the correct typed letter\r\n        const isCorrect = inputValue[index] === testInfo[index].testLetter;\r\n\r\n        // Updated the testInfo \r\n        testInfo[index].status = isCorrect ? \"correct\" : \"incorrect\";\r\n\r\n        // Update the state\r\n        this.setState({\r\n            testInfo,\r\n            words,\r\n            characters,\r\n        })\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        console.log(\"Test info - \", this.state.testInfo);\r\n        return (\r\n            <div className=\"app\">\r\n                <Nav />\r\n\r\n                <Landing />\r\n\r\n                <ChallangeSection\r\n                    selectedParagraph={this.state.selectedParagraph}\r\n                    words={this.state.words}\r\n                    characters={this.state.characters}\r\n                    wpm={this.state.wpm}\r\n                    timeRemaining={this.state.timeRemaining}\r\n                    timerStarted={this.state.timerStarted}\r\n                    testInfo={this.state.testInfo}\r\n                    onInputChange={this.handleUserInput}\r\n                    startAgain={this.startAgain}\r\n                />\r\n\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}